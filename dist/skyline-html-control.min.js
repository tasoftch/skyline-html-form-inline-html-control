!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["skyline-html-control"]=t():e["skyline-html-control"]=t()}(window,(function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){!function(e){"use strict";var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},n="defaultParagraphSeparator",i="formatBlock",o=function(e,t,n){return e.addEventListener(t,n)},r=function(e,t){return e.appendChild(t)},l=function(e){return document.createElement(e)},u=function(e){return document.queryCommandState(e)},c=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return document.execCommand(e,!1,t)},s={bold:{icon:"<b>B</b>",title:"Bold",state:function(){return u("bold")},result:function(){return c("bold")}},italic:{icon:"<i>I</i>",title:"Italic",state:function(){return u("italic")},result:function(){return c("italic")}},underline:{icon:"<u>U</u>",title:"Underline",state:function(){return u("underline")},result:function(){return c("underline")}},strikethrough:{icon:"<strike>S</strike>",title:"Strike-through",state:function(){return u("strikeThrough")},result:function(){return c("strikeThrough")}},heading1:{icon:"<b>H<sub>1</sub></b>",title:"Heading 1",result:function(){return c(i,"<h1>")}},heading2:{icon:"<b>H<sub>2</sub></b>",title:"Heading 2",result:function(){return c(i,"<h2>")}},paragraph:{icon:"&#182;",title:"Paragraph",result:function(){return c(i,"<p>")}},quote:{icon:"&#8220; &#8221;",title:"Quote",result:function(){return c(i,"<blockquote>")}},olist:{icon:"&#35;",title:"Ordered List",result:function(){return c("insertOrderedList")}},ulist:{icon:"&#8226;",title:"Unordered List",result:function(){return c("insertUnorderedList")}},code:{icon:"&lt;/&gt;",title:"Code",result:function(){return c(i,"<pre>")}},line:{icon:"&#8213;",title:"Horizontal Line",result:function(){return c("insertHorizontalRule")}},link:{icon:"&#128279;",title:"Link",result:function(){var e=window.prompt("Enter the link URL");e&&c("createLink",e)}},image:{icon:"&#128247;",title:"Image",result:function(){var e=window.prompt("Enter the image URL");e&&c("insertImage",e)}}},a={actionbar:"pell-actionbar",button:"pell-button",content:"pell-content",selected:"pell-button-selected"},d=function(e){var u=e.actions?e.actions.map((function(e){return"string"==typeof e?s[e]:s[e.name]?t({},s[e.name],e):e})):Object.keys(s).map((function(e){return s[e]})),d=t({},a,e.classes),f=e[n]||"div",p=l("div");p.className=d.actionbar,r(e.element,p);var h=e.element.content=l("div");return h.contentEditable=!0,h.className=d.content,h.oninput=function(t){var n=t.target.firstChild;n&&3===n.nodeType?c(i,"<"+f+">"):"<br>"===h.innerHTML&&(h.innerHTML=""),e.onChange(h.innerHTML)},h.onkeydown=function(e){"Enter"===e.key&&"blockquote"===document.queryCommandValue("formatBlock")&&setTimeout((function(){return c(i,"<"+f+">")}),0)},r(e.element,h),u.forEach((function(e){var t=l("button");if(t.className=d.button,t.innerHTML=e.icon,t.title=e.title,t.setAttribute("type","button"),t.onclick=function(){return e.result()&&h.focus()},e.state){var n=function(){return t.classList[e.state()?"add":"remove"](d.selected)};o(h,"keyup",n),o(h,"mouseup",n),o(t,"click",n)}r(p,t)})),e.styleWithCSS&&c("styleWithCSS"),c(n,f),e.element},f={exec:c,init:d};e.exec=c,e.init=d,e.default=f,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){"use strict";n.r(t);var i=n(0);let o=!1;class r{constructor(e,t){this.pell=e,this.output=t}get content(){return this.pell.content.innerHTML}set content(e){return this.pell.content.innerHTML=e,this}exec(e,t){Object(i.exec)(e,t)}insertHTML(e){console.log(e),Object(i.exec)("insertHTML",e)}startModal(e,t,n){!1===o?(o={pell:this,selection:(()=>{if(window.getSelection){var e=window.getSelection();if(e.getRangeAt&&e.rangeCount)return e.getRangeAt(0)}else if(document.selection&&document.selection.createRange)return document.selection.createRange();return null})(),final:n,modal:$("#"+e).one("hidden.bs.modal",()=>{r.stopModal(0,void 0)}).modal("show")},t.call(this,o.selection)):console.warn("Modal is already running. Can only run one modal session.")}static stopModal(e,...t){if("object"==typeof o){let{pell:n,selection:i,final:r}=o;o.modal.modal("hide").off("hidden.bs.modal"),(e=>{if(e)if($(n.pell).focus(),window.getSelection){var t=window.getSelection();t.removeAllRanges(),t.addRange(e)}else document.selection&&e.select&&e.select()})(i),r.call(this,e,...t),o=!1}else console.warn("No modal session is running.");return!1}}!function(e){e.fn.pell=function(t){return this.each((function(){let n=e("<div class='pell'></div>");n.css("height",e(this).height()+"px"),e(this).hasClass("is-valid")&&n.addClass("is-valid"),e(this).hasClass("is-invalid")&&n.addClass("is-invalid"),t.classes&&t.classes.map((function(e){n.addClass(e)})),n.insertBefore(this),e(this).hide(),t=e.extend({},t,{element:n[0],onChange:t=>{e(this).val(t)}}),this.pell=new r(Object(i.init)(t),this),n.find(".pell-content").css("height",e(this).height()-30+"px")})),this}}(window.jQuery),window.SkylinePell=r}])}));